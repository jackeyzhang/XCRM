<!-- 增加和编辑用户模态框（Modal） -->
<div class="modal fade" id="addoreditworker${workflowitem.id!}" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"
          aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">编辑${workflowitem.dp!}的工作分配项</h4>
      </div>
        <form class="form-inline" id="workerform">
          <div class="modal-body">
          
          <#list workflowitem.workitemallocations as wia>
            <!-- work item ui unit start -->
		        <div class="form-group" id="workitemform">
		           <input type="hidden" name="workitemallocationid" value="${wia.id!}"></input>
			         <input type="hidden" name="workitemid" value="${workflowitem.id!}"></input>
			         <input type="hidden" name="workitemallocationstatus" value="${wia.status!}"></input>
			         <label>${workflowitem.dp!}工作人员:</label>
		           <#if wia.status! == 4 >
		             <input type="hidden" name="selectworker" value="${wia.worker!}"></input>
		             <input class="form-control" style="max-width:120px;" id="workerlist" value="${wia.workername!}-${workflowitem.dp!}" name="workerlist" data-provide="typeahead" data-items="4" depid="${workflowitem.dep!}" readonly>
                 <label>权重百分比:</label>
                 <input type="number" style="max-width:80px;" class="form-control" value="${wia.weight!}" name="weight" readonly></input>
		             <button type="button" class="btn btn-sm btn-warning" name="resumeworkitem" onclick="javascript:resumeworkitemevent(this);" data-toggle="tooltip" data-placement="bottom" title="恢复该任务项"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span></button>
		             <label>已挂起</label>
                <#elseif wia.status! == 2 >
                 <input type="hidden" name="selectworker" value="${wia.worker!}"></input>
                 <input class="form-control" style="max-width:120px;" id="workerlist" value="${wia.workername!}-${workflowitem.dp!}" name="workerlist" data-provide="typeahead" data-items="4" depid="${workflowitem.dep!}" readonly>
                 <label>权重百分比:</label>
                 <input type="number" style="max-width:80px;" class="form-control" value="${wia.weight!}" name="weight" readonly></input>
                 <button type="button" class="btn btn-sm btn-warning" name="resumeworkitem" onclick="javascript:resumeworkitemevent(this);" data-toggle="tooltip" data-placement="bottom" title="恢复该任务项"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span></button>
                 <label>已完成</label>
		           <#else>
				         <input type="hidden" name="selectworker" value="${wia.worker!}"></input>
				         <input class="form-control" style="max-width:120px;" id="workerlist" value="${wia.workername!}-${workflowitem.dp!}" name="workerlist" data-provide="typeahead" data-items="4" depid="${workflowitem.dep!}">
		             <label>权重百分比:</label>
		             <input type="number" style="max-width:80px;" class="form-control" value="${wia.weight!}" name="weight"></input>
				         <button type="button" class="btn btn-sm btn-primary" name="addworkitem" onclick="javascript:addworkitemevent(this);" data-toggle="tooltip" data-placement="bottom" title="新增任务项"><span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span></button>
				         <button type="button" class="btn btn-sm btn-danger" name="delworkitem" onclick="javascript:delworkitemevent(this);" data-toggle="tooltip" data-placement="bottom" title="删除任务项"><span class="glyphicon glyphicon-minus-sign" aria-hidden="true"></span></button>
				         <button type="button" class="btn btn-sm btn-info" name="completeworkitem" onclick="javascript:completedworkitemevent(this);" data-toggle="tooltip" data-placement="bottom" title="完成该任务项"><span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span></button>
				         <button type="button" class="btn btn-sm btn-warning" name="holdworkitem" onclick="javascript:holdworkitemevent(this);" data-toggle="tooltip" data-placement="bottom" title="暂停该任务项"><span class="glyphicon glyphicon-off" aria-hidden="true"></span></button>
		          </#if>
		        </div>
		        <!-- work item ui unit end -->
	        </#list>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭
        </button>
        <button type="button" class="btn btn-primary" id="submitworkers" name="submitworkers">提交更改</button>
      </div>
       </form>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal -->
</div>